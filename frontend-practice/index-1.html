<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Design Playground - Design systems thinking meets code with interactive 3D animations and AI-powered suggestions">
    <meta name="theme-color" content="#3b82f6">
    <title>Frontend Practice Environment</title>
    
    <!-- Google Fonts - DM Sans and Roboto Mono for Figma design tokens -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Roboto+Mono:wght@700&display=swap" rel="stylesheet">
    
    <link rel="preload" href="css/main.css" as="style">
    <link rel="stylesheet" href="css/main.css">
    <!-- Design Tokens - Localized Design System -->
    <link rel="stylesheet" href="css/design-tokens.css">
    
    <style>
        .loading * {
            cursor: wait !important;
        }
        
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        
        .animate-on-scroll.animate-in {
            opacity: 1;
            transform: translateY(0);
        }
        
        @media (prefers-reduced-motion: reduce) {
            .animate-on-scroll {
                opacity: 1;
                transform: none;
                transition: none;
            }
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <header class="header">
        <button class="mobile-menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>
        <h1 class="header__title">design playground</h1>
        <p class="header__subtitle">design+code</p>
    </header>

    <!-- Modern Navigation Component -->
    <nav class="modern-nav" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <!-- Search Bar -->
            <div class="nav-search">
                <div class="search-wrapper">
                    <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <input type="text" 
                           class="search-input" 
                           placeholder="Search channels, topics, or people..."
                           aria-label="Search navigation">
                </div>
            </div>

            <!-- Quick Access Pinned Items -->
            <div class="nav-section">
                <h3 class="nav-section__title">Quick Access</h3>
                <ul class="nav-list">
                    <li class="nav-item nav-item--active">
                        <a href="#home" class="nav-link">
                            <span class="nav-icon">üè†</span>
                            <span class="nav-text">Home</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#design-system" class="nav-link">
                            <span class="nav-icon">üé®</span>
                            <span class="nav-text">Design System</span>
                            <span class="nav-badge nav-badge--new">New</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#components" class="nav-link">
                            <span class="nav-icon">üß©</span>
                            <span class="nav-text">Components</span>
                            <span class="nav-badge nav-badge--notification">3</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Official Channels -->
            <div class="nav-section">
                <div class="nav-section__header">
                    <h3 class="nav-section__title">Official</h3>
                    <button class="nav-toggle" aria-expanded="true" aria-label="Toggle Official channels">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"></polyline>
                        </svg>
                    </button>
                </div>
                <ul class="nav-list nav-list--expanded">
                    <li class="nav-item">
                        <a href="#announcements" class="nav-link">
                            <span class="nav-icon">üì¢</span>
                            <span class="nav-text">Announcements</span>
                            <span class="nav-badge nav-badge--important">!</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#general" class="nav-link">
                            <span class="nav-icon">üí¨</span>
                            <span class="nav-text">General</span>
                            <span class="nav-badge nav-badge--notification">12</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#help" class="nav-link">
                            <span class="nav-icon">‚ùì</span>
                            <span class="nav-text">Help & Support</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#updates" class="nav-link">
                            <span class="nav-icon">üîÑ</span>
                            <span class="nav-text">Updates</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Community Channels -->
            <div class="nav-section">
                <div class="nav-section__header">
                    <h3 class="nav-section__title">Community</h3>
                    <button class="nav-toggle" aria-expanded="true" aria-label="Toggle Community channels">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"></polyline>
                        </svg>
                    </button>
                </div>
                <ul class="nav-list nav-list--expanded">
                    <li class="nav-item">
                        <a href="#showcase" class="nav-link">
                            <span class="nav-icon">‚ú®</span>
                            <span class="nav-text">Showcase</span>
                            <span class="nav-badge nav-badge--notification">5</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#feedback" class="nav-link">
                            <span class="nav-icon">üí≠</span>
                            <span class="nav-text">Feedback</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#resources" class="nav-link">
                            <span class="nav-icon">üìö</span>
                            <span class="nav-text">Resources</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#events" class="nav-link">
                            <span class="nav-icon">üéâ</span>
                            <span class="nav-text">Events</span>
                            <span class="nav-badge nav-badge--live">Live</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Direct Messages -->
            <div class="nav-section">
                <div class="nav-section__header">
                    <h3 class="nav-section__title">Direct Messages</h3>
                    <button class="nav-toggle" aria-expanded="false" aria-label="Toggle Direct Messages">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"></polyline>
                        </svg>
                    </button>
                </div>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#dm-alice" class="nav-link">
                            <div class="nav-avatar">
                                <span class="avatar-text">A</span>
                                <span class="avatar-status avatar-status--online"></span>
                            </div>
                            <span class="nav-text">Alice Chen</span>
                            <span class="nav-badge nav-badge--notification">2</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#dm-bob" class="nav-link">
                            <div class="nav-avatar">
                                <span class="avatar-text">B</span>
                                <span class="avatar-status avatar-status--away"></span>
                            </div>
                            <span class="nav-text">Bob Smith</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- User Profile -->
            <div class="nav-user">
                <div class="user-profile">
                    <div class="user-avatar">
                        <span class="avatar-text">U</span>
                        <span class="avatar-status avatar-status--online"></span>
                    </div>
                    <div class="user-info">
                        <span class="user-name">You</span>
                        <span class="user-status">Online</span>
                    </div>
                    <button class="user-menu-toggle" aria-label="User menu">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="1"></circle>
                            <circle cx="19" cy="12" r="1"></circle>
                            <circle cx="5" cy="12" r="1"></circle>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="main">
        <section class="card">
            <h2 class="card__title">AI Assistant - Clean Version</h2>
            <p class="card__content">
                Ask any question and get intelligent responses with this clean, minimal interface.
            </p>
            <div class="shimmer-container">
                <div class="shimmer-input-wrapper">
                    <input type="text" 
                           class="clean-input" 
                           placeholder="What would you like to know today?" 
                           id="clean-ai-input"
                           aria-label="AI assistant input field"
                           aria-describedby="clean-ai-description"
                           role="combobox"
                           aria-expanded="false"
                           aria-autocomplete="list">
                    <span id="clean-ai-description" class="sr-only">
                        Type your question and get AI-powered suggestions. Use arrow keys to navigate suggestions.
                    </span>
                    <div class="input-loader" id="clean-input-loader" aria-hidden="true">
                        <div class="input-typing-dots">
                            <div class="input-typing-dot"></div>
                            <div class="input-typing-dot"></div>
                            <div class="input-typing-dot"></div>
                        </div>
                    </div>
                </div>
                <div class="suggestions-container" 
                     id="clean-suggestions-container"
                     role="listbox"
                     aria-label="AI suggestions">
                    <!-- Dynamic suggestions will be inserted here -->
                </div>
            </div>
        </section>

        <section class="card">
            <h2 class="card__title">AI Assistant - Filled Loader</h2>
            <p class="card__content">
                Experience a smooth gradient-filled search field that animates while AI processes your query.
            </p>
            <div class="shimmer-container">
                <div class="shimmer-input-wrapper">
                    <input type="text" 
                           class="filled-input" 
                           placeholder="What would you like to know today?" 
                           id="filled-ai-input"
                           aria-label="AI assistant input field with filled loader"
                           aria-describedby="filled-ai-description"
                           role="combobox"
                           aria-expanded="false"
                           aria-autocomplete="list">
                    <span id="filled-ai-description" class="sr-only">
                        Type your question and get AI-powered suggestions with animated background fill. Use arrow keys to navigate suggestions.
                    </span>
                    <div class="input-loader" id="filled-input-loader" aria-hidden="true">
                        <div class="input-typing-dots">
                            <div class="input-typing-dot"></div>
                            <div class="input-typing-dot"></div>
                            <div class="input-typing-dot"></div>
                        </div>
                    </div>
                </div>
                <div class="suggestions-container" 
                     id="filled-suggestions-container"
                     role="listbox"
                     aria-label="AI suggestions with filled loader">
                    <!-- Dynamic suggestions will be inserted here -->
                </div>
            </div>
        </section>
        
        <section class="card">
            <h2 class="card__title">Scroll-Triggered Button Grid</h2>
            <p class="card__content">
                A single button with shimmer effects that respond to your scroll position. 
                <strong>Scroll up and down</strong> to see the magical gradient movement!
            </p>
            <div class="button-grid" id="button-grid">
                <button class="button-shimmer" 
                        aria-label="Interactive shimmer button that responds to scroll position">
                    Scroll Button
                </button>
            </div>
        </section>
        
        <section class="card card--shimmer" id="shimmer-card">
            <h2 class="card__title">AI Assistant</h2>
            <p class="card__content">
                Ask any question and get intelligent responses with this beautiful animated interface.
            </p>
            <div class="shimmer-container">
                <div class="shimmer-input-wrapper">
                    <input type="text" class="shimmer-input" placeholder="What would you like to know today?" id="ai-input">
                    <div class="input-loader" id="input-loader">
                        <div class="input-typing-dots">
                            <div class="input-typing-dot"></div>
                            <div class="input-typing-dot"></div>
                            <div class="input-typing-dot"></div>
                        </div>
                    </div>
                </div>
                <div class="suggestions-container" id="suggestions-container">
                    <!-- Dynamic suggestions will be inserted here -->
                </div>
            </div>
            <div class="shimmer-controls">
                <div class="control-group">
                    <label for="speed-slider" class="control-label">Speed:</label>
                    <input type="range" id="speed-slider" min="1" max="120" value="40" class="slider">
                    <span id="speed-display" class="control-value">40s</span>
                </div>
                <div class="control-group">
                    <label for="direction-select" class="control-label">Direction:</label>
                    <select id="direction-select" class="select">
                        <option value="clockwise">Clockwise</option>
                        <option value="counterclockwise">Counterclockwise</option>
                        <option value="horizontal">Horizontal</option>
                        <option value="vertical">Vertical</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="intensity-slider" class="control-label">Intensity:</label>
                    <input type="range" id="intensity-slider" min="10" max="100" value="100" class="slider">
                    <span id="intensity-display" class="control-value">100%</span>
                </div>
                <button class="button button--primary" id="pause-shimmer">Pause</button>
            </div>
        </section>

        <section class="card">
            <h2 class="card__title">Button Component</h2>
            <p class="card__content">
                Brand button component built from Figma design using all design tokens. 
                <strong>Hover over the button</strong> to see interactive states. All design tokens are localized in <code>css/design-tokens.css</code> for easy access.
            </p>
            <div style="padding: var(--space-lg); display: flex; gap: var(--space-md); flex-wrap: wrap; align-items: center;">
                <link rel="stylesheet" href="components/button/button.css">
                <button 
                    class="button button--brand button--medium button--leading-icon" 
                    type="button"
                    data-name="atoms/button/medium/brand/leading/default"
                    data-node-id="6834:27881"
                    aria-label="Button with icon">
                    <div class="button__icon" data-name="icon" data-node-id="6834:27829">
                        <div class="button__icon-inner" data-name="Primary" data-node-id="I6834:27829;1324:19099">
                            <img 
                                src="http://localhost:3845/assets/e7cb5c785f3761b2bbff7665f65d6aa5bf54c3bc.svg" 
                                alt=""
                                width="16" 
                                height="13.683"
                                class="button__icon-img"
                                onerror="this.outerHTML='<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'14\' viewBox=\'0 0 24 24\' fill=\'%2314532d\'%3E%3Cpath d=\'M12 2L4 6v6c0 5.55 3.84 10.74 8 12 4.16-1.26 8-6.45 8-12V6l-8-4zm0 2.18l6 3v4.82c0 2.97-2.05 6.34-6 7.5-3.95-1.16-6-4.53-6-7.5V7.18l6-3z\'/%3E%3C/svg%3E'">
                        </div>
                    </div>
                    <span class="button__text">Label</span>
                </button>
            </div>
        </section>

        <section class="card">
            <h2 class="card__title">Author Component</h2>
            <p class="card__content">
                Interactive author row component built from Figma design with hover effects, keyboard navigation, and smooth animations.
                <strong>Hover over the component</strong> to see interactive states and <strong>click badges</strong> for individual interactions!
            </p>
            <div class="author-row" data-author-id="shari-patterson" data-name="molecules/rows/author" data-node-id="7493:14164">
                <div class="author-avatar" data-name="atoms/avatar/medium" data-node-id="I7493:14164;162:11417">
                    <img src="http://localhost:3845/assets/1b374f56cf8bdfad9e010e5c3c6b29f84a7856e1.png" 
                         alt="Shari Patterson" 
                         class="author-avatar__img"
                         width="40" 
                         height="40"
                         onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'40\' height=\'40\'%3E%3Ccircle cx=\'20\' cy=\'20\' r=\'18\' fill=\'%23e5e7eb\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' font-family=\'Arial\' font-size=\'16\' fill=\'%236b7280\'%3ESP%3C/text%3E%3C/svg%3E'">
                </div>
                <div class="author-info" data-name="author" data-node-id="I7493:14164;6695:56657">
                    <div class="author-name" data-name="name + user" data-node-id="I7493:14164;6695:56658">
                        <p class="author-name__text">Shari Patterson</p>
                    </div>
                    <div class="author-badges" data-name="badges" data-node-id="I7493:14164;6695:56666">
                        <div class="author-badge author-badge--bordered author-badge--animated" 
                             data-name="atoms/badges/roles-title" 
                             data-node-id="I7493:14164;6695:56668">
                            <div class="author-badge__icon" data-name="icon/16/awards/shield-heart" data-node-id="I7493:14164;6695:56668;1758:34554">
                                <img src="http://localhost:3845/assets/61fb1dec251da62f4534fc6ffdff567c356e4c09.svg" 
                                     alt="Community Leader icon"
                                     width="10.667" 
                                     height="10.667"
                                     onerror="this.outerHTML='<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'11\' height=\'11\' viewBox=\'0 0 24 24\' fill=\'%23242526\'%3E%3Cpath d=\'M12 2L4 6v6c0 5.55 3.84 10.74 8 12 4.16-1.26 8-6.45 8-12V6l-8-4zm0 2.18l6 3v4.82c0 2.97-2.05 6.34-6 7.5-3.95-1.16-6-4.53-6-7.5V7.18l6-3zM12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\'/%3E%3C/svg%3E'">
                            </div>
                            <span class="author-badge__text">Community Leader</span>
                        </div>
                        <div class="author-badge author-badge--plain author-badge--animated" 
                             data-name="atoms/badges/streaks-title" 
                             data-node-id="I7493:14164;6959:69811">
                            <div class="author-badge__icon" data-name="icon/16/awards/hand-holding-heart" data-node-id="I7493:14164;6959:69811;6959:69803;1758:34554">
                                <img src="http://localhost:3845/assets/4650e24a318ced0c569e52c4926cd8b9cf65d899.svg" 
                                     alt="Contributor icon"
                                     width="12" 
                                     height="10.667"
                                     onerror="this.outerHTML='<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'12\' height=\'11\' viewBox=\'0 0 24 24\' fill=\'%23242526\'%3E%3Cpath d=\'M20 14c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h2c1.1 0 2-.9 2-2v-2zm-2-2h2c2.2 0 4 1.8 4 4v2c0 2.2-1.8 4-4 4h-2c-2.2 0-4-1.8-4-4v-2c0-2.2 1.8-4 4-4zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\'/%3E%3C/svg%3E'">
                            </div>
                            <span class="author-badge__text">Contributor</span>
                        </div>
                        <div class="author-badge author-badge--plain author-badge--animated" 
                             data-name="atoms/badges/streaks-title" 
                             data-node-id="I7493:14164;7467:24762">
                            <div class="author-badge__icon" data-name="icon/16/awards/face-grin-hearts" data-node-id="I7493:14164;7467:24762;6959:65443;1758:34554">
                                <img src="http://localhost:3845/assets/8a8b7221a8546aa45969112af10d8dde2e7be686.svg" 
                                     alt="Superfan icon"
                                     width="10.667" 
                                     height="10.667"
                                     onerror="this.outerHTML='<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'11\' height=\'11\' viewBox=\'0 0 24 24\' fill=\'%23242526\'%3E%3Cpath d=\'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm6 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-6c0 1.38-1.12 2.5-2.5 2.5S12 10.88 12 9.5 13.12 7 14.5 7 17 8.12 17 9.5z\'/%3E%3C/svg%3E'">
                            </div>
                            <span class="author-badge__text">Superfan</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Loading Three.js from CDN with fallback -->
    <script>
        // Three.js loading with multiple CDN fallbacks
        (function loadThreeJS() {
            const cdnUrls = [
                'https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js',
                'https://unpkg.com/three@0.158.0/build/three.min.js',
                'https://cdnjs.cloudflare.com/ajax/libs/three.js/r150/three.min.js',
                'https://cdnjs.cloudflare.com/ajax/libs/three.js/r158/three.min.js'
            ];
            
            let currentCDN = 0;
            
            function tryLoadThreeJS() {
                if (currentCDN >= cdnUrls.length) {
                    console.error('‚ùå Failed to load Three.js from all CDN sources');
                    return;
                }
                
                const script = document.createElement('script');
                script.src = cdnUrls[currentCDN];
                script.onload = function() {
                    if (window.THREE) {
                        console.log(`‚úÖ Three.js loaded successfully from CDN ${currentCDN + 1}`);
                    } else {
                        console.warn(`‚ö†Ô∏è Three.js script loaded but THREE object not available from CDN ${currentCDN + 1}`);
                        currentCDN++;
                        tryLoadThreeJS();
                    }
                };
                script.onerror = function() {
                    console.warn(`‚ö†Ô∏è Failed to load Three.js from CDN ${currentCDN + 1}, trying next...`);
                    currentCDN++;
                    tryLoadThreeJS();
                };
                
                document.head.appendChild(script);
            }
            
            tryLoadThreeJS();
        })();
    </script>
    <!-- Enhanced JavaScript with error handling and performance optimizations -->
    <script src="js/main-enhanced.js"></script>
    <!-- Original Main JavaScript -->
    <script src="js/main.js"></script>
    <!-- Modern Navigation JavaScript -->
    <script src="js/navigation.js"></script>
    <!-- Author Component Module -->
    <script type="module">
        import { initAuthorComponents } from './js/modules/author-component.js';
        document.addEventListener('DOMContentLoaded', () => {
            initAuthorComponents();
        });
    </script>
    <noscript>
        <div style="padding: 2rem; text-align: center; background: #fee; border: 1px solid #fcc; border-radius: 8px; margin: 2rem;">
            <h2>JavaScript Required</h2>
            <p>This application requires JavaScript to function properly. Please enable JavaScript in your browser settings.</p>
        </div>
    </noscript>
</body>
</html>